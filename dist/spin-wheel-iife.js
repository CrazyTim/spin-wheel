/**
 * spin-wheel (IIFE) v3.4.2
 * https://github.com/CrazyTim/spin-wheel#readme
 * Copyright (c) CrazyTim 2023.
 * Distributed under the MIT License.
 */
var wheel=(()=>{var f=Object.defineProperty;var B=Object.getOwnPropertyDescriptor;var T=Object.getOwnPropertyNames,p=Object.getOwnPropertySymbols;var S=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable;var c=Math.pow,y=(i,e,t)=>e in i?f(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,_=(i,e)=>{for(var t in e||(e={}))S.call(e,t)&&y(i,t,e[t]);if(p)for(var t of p(e))O.call(e,t)&&y(i,t,e[t]);return i};var j=(i,e)=>{for(var t in e)f(i,t,{get:e[t],enumerable:!0})},H=(i,e,t,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of T(e))!S.call(i,n)&&n!==t&&f(i,n,{get:()=>e[n],enumerable:!(s=B(e,n))||s.enumerable});return i};var X=i=>H(f({},"__esModule",{value:!0}),i);var G={};j(G,{Wheel:()=>L});function w(i=0,e=0){return i=Math.ceil(i),e=Math.floor(e),Math.floor(Math.random()*(e-i))+i}function l(i=0){return i*Math.PI/180}function I(i,e,t){return e<t?e<=i&&i<t:e<=i||i<t}function x(i,e,t,s){s.save(),s.font=`1px ${e}`;let n=s.measureText(i).width;return s.restore(),t/n}function M(i={x:0,y:0},e,t,s){return c(i.x-e,2)+c(i.y-t,2)<=c(s,2)}function b(i={x:0,y:0},e={},t=1){let s=e.getBoundingClientRect();return{x:(i.x-s.left)*t,y:(i.y-s.top)*t}}function A(i,e,t,s){let n=i-t,r=e-s,o=Math.atan2(-r,-n);return o*=180/Math.PI,o<0&&(o+=360),o}function Y(i=0,e=0){let t=i+e,s;return t>0?s=t%360:s=360+t%360,s===360&&(s=0),s}function E(i=0,e=0){let t=180-e;return 180-Y(i,t)}function m(i){return typeof i=="object"&&!Array.isArray(i)&&i!==null}function R(i){return i&&i.complete&&i.naturalWidth!==0&&i.naturalHeight!==0}var q=Object.freeze({left:"left",right:"right",center:"center"}),a=Object.freeze({wheel:{borderColor:"#000",borderWidth:1,debug:!1,image:null,isInteractive:!0,itemBackgroundColors:["#fff"],itemLabelAlign:q.right,itemLabelBaselineOffset:0,itemLabelColors:["#000"],itemLabelFont:"sans-serif",itemLabelFontSizeMax:500,itemLabelRadius:.85,itemLabelRadiusMax:.2,itemLabelRotation:0,items:[],lineColor:"#000",lineWidth:1,pixelRatio:0,radius:.95,rotation:0,rotationResistance:-35,rotationSpeed:0,rotationSpeedMax:250,offset:{w:0,h:0},onCurrentIndexChange:null,onRest:null,onSpin:null,overlayImage:null,pointerAngle:0},item:{backgroundColor:null,image:null,imageRadius:.5,imageRotation:0,imageScale:1,label:"",labelColor:null,labelFont:null,weight:1}}),g=Object.freeze({pointerLineColor:"#ff00ff",labelOutlineColor:"#ff00ff",labelRadiusColor:"#00ff00",dragEventHue:200});function W(i={}){let e=i.canvas;i._handler_onPointerMoveRefreshCursor=(s={})=>{let n={x:s.clientX,y:s.clientY};i.isCursorOverWheel=i.wheelHitTest(n),i.refreshCursor()},i._handler_onMouseMoveRefreshCursor=(s={})=>{let n={x:s.clientX,y:s.clientY};i.isCursorOverWheel=i.wheelHitTest(n),i.refreshCursor()},i._handler_onPointerDown=(s={})=>{let n={x:s.clientX,y:s.clientY};if(!i.isInteractive||!i.wheelHitTest(n))return;s.preventDefault(),i.dragStart(n),e.setPointerCapture(s.pointerId),e.addEventListener("pointermove",r),e.addEventListener("pointerup",o),e.addEventListener("pointercancel",o);function r(h={}){h.preventDefault(),i.dragMove({x:h.clientX,y:h.clientY})}function o(h={}){h.preventDefault(),e.releasePointerCapture(h.pointerId),e.removeEventListener("pointermove",r),e.removeEventListener("pointerup",o),e.removeEventListener("pointercancel",o),i.dragEnd()}},i._handler_onMouseDown=(s={})=>{let n={x:s.clientX,y:s.clientY};if(!i.isInteractive||!i.wheelHitTest(n))return;i.dragStart(n),document.addEventListener("mousemove",r),document.addEventListener("mouseup",o);function r(h={}){h.preventDefault(),i.dragMove({x:h.clientX,y:h.clientY})}function o(h={}){h.preventDefault(),document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",o),i.dragEnd()}},i._handler_onTouchStart=(s={})=>{let n={x:s.targetTouches[0].clientX,y:s.targetTouches[0].clientY};if(!i.isInteractive||!i.wheelHitTest(n))return;s.preventDefault(),i.dragStart(n),e.addEventListener("touchmove",r),e.addEventListener("touchend",o),e.addEventListener("touchcancel",o);function r(h={}){h.preventDefault(),i.dragMove({x:h.targetTouches[0].clientX,y:h.targetTouches[0].clientY})}function o(h={}){h.preventDefault(),e.removeEventListener("touchmove",r),e.removeEventListener("touchend",o),e.removeEventListener("touchcancel",o),i.dragEnd()}},"PointerEvent"in window?(e.addEventListener("pointerdown",i._handler_onPointerDown),e.addEventListener("pointermove",i._handler_onPointerMoveRefreshCursor)):(e.addEventListener("touchstart",i._handler_onTouchStart),e.addEventListener("mousedown",i._handler_onMouseDown),e.addEventListener("mousemove",i._handler_onMouseMoveRefreshCursor)),i._handler_onResize=i.resize.bind(i),window.addEventListener("resize",i._handler_onResize);let t=()=>{i.resize(),matchMedia(`(resolution: ${pr}dppx)`).addEventListener("change",t,{once:!0})}}function k(i={}){let e=i.canvas;"PointerEvent"in window?(e.removeEventListener("pointerdown",i._handler_onPointerDown),e.removeEventListener("pointermove",i._handler_onPointerMoveRefreshCursor)):(e.removeEventListener("touchstart",i._handler_onTouchStart),e.removeEventListener("mousedown",i._handler_onMouseDown),e.removeEventListener("mousemove",i._handler_onMouseMoveRefreshCursor)),window.removeEventListener("resize",i._handler_onResize)}var C=class{constructor(e,t={}){if(!m(e))throw"wheel parameter must be an Object";if(!m(t)&&t!==null)throw"props parameter must be an Object or null";this._wheel=e;for(let s of Object.keys(a.item))this["_"+s]=a.item[s];t?this.init(t):this.init(a.item)}init(e={}){this.backgroundColor=e.backgroundColor,this.image=e.image,this.imageRadius=e.imageRadius,this.imageRotation=e.imageRotation,this.imageScale=e.imageScale,this.label=e.label,this.labelColor=e.labelColor,this.value=e.value,this.weight=e.weight}get backgroundColor(){return this._backgroundColor}set backgroundColor(e){typeof e=="string"?this._backgroundColor=e:this._backgroundColor=a.item.backgroundColor,this._wheel.refresh()}get image(){return this._image}set image(e){let t;typeof e=="string"?(t=new Image,t.src=e,t.onload=s=>this._wheel.refresh()):t=a.item.image,this._image=t,this._wheel.refresh()}get imageRadius(){return this._imageRadius}set imageRadius(e){typeof e=="number"?this._imageRadius=e:this._imageRadius=a.item.imageRadius,this._wheel.refresh()}get imageRotation(){return this._imageRotation}set imageRotation(e){typeof e=="number"?this._imageRotation=e:this._imageRotation=a.item.imageRotation,this._wheel.refresh()}get imageScale(){return this._imageScale}set imageScale(e){typeof e=="number"?this._imageScale=e:this._imageScale=a.item.imageScale,this._wheel.refresh()}get label(){return this._label}set label(e){typeof e=="string"?this._label=e:this._label=a.item.label,this._wheel.refresh()}get labelColor(){return this._labelColor}set labelColor(e){typeof e=="string"?this._labelColor=e:this._labelColor=a.item.labelColor,this._wheel.refresh()}get value(){return this._value}set value(e){this._value=e}get weight(){return this._weight}set weight(e){typeof e=="number"?this._weight=e:this._weight=a.item.weight}};var L=class{constructor(e,t={}){if(this._frameRequestId=null,!(e instanceof Element))throw"container parameter must be an Element";if(!m(t)&&t!==null)throw"props parameter must be an Object or null";this._canvasContainer=e,this.canvas=document.createElement("canvas"),this._context=this.canvas.getContext("2d"),this.addCanvas(),W(this);for(let s of Object.keys(a.wheel))this["_"+s]=a.wheel[s];t?this.init(t):this.init(a.wheel)}init(e={}){this._isInitialising=!0,this.borderColor=e.borderColor,this.borderWidth=e.borderWidth,this.debug=e.debug,this.image=e.image,this.isInteractive=e.isInteractive,this.itemBackgroundColors=e.itemBackgroundColors,this.itemLabelAlign=e.itemLabelAlign,this.itemLabelBaselineOffset=e.itemLabelBaselineOffset,this.itemLabelColors=e.itemLabelColors,this.itemLabelFont=e.itemLabelFont,this.itemLabelFontSizeMax=e.itemLabelFontSizeMax,this.itemLabelRadius=e.itemLabelRadius,this.itemLabelRadiusMax=e.itemLabelRadiusMax,this.itemLabelRotation=e.itemLabelRotation,this.items=e.items,this.lineColor=e.lineColor,this.lineWidth=e.lineWidth,this.pixelRatio=e.pixelRatio,this.rotationSpeedMax=e.rotationSpeedMax,this.radius=e.radius,this.rotation=e.rotation,this.rotationResistance=e.rotationResistance,this.rotationSpeed=e.rotationSpeed,this.offset=e.offset,this.onCurrentIndexChange=e.onCurrentIndexChange,this.onRest=e.onRest,this.onSpin=e.onSpin,this.overlayImage=e.overlayImage,this.pointerAngle=e.pointerAngle}addCanvas(){this._canvasContainer.appendChild(this.canvas)}removeCanvas(){this._canvasContainer.removeChild(this.canvas)}remove(){window.cancelAnimationFrame(this._frameRequestId),k(this),this.removeCanvas()}resize(){let[e,t]=[this._canvasContainer.clientWidth*this.getActualPixelRatio(),this._canvasContainer.clientHeight*this.getActualPixelRatio()],s=Math.min(e,t),n={w:s-s*this.offset.w,h:s-s*this.offset.h},r=Math.min(e/n.w,t/n.h);this._size=Math.max(n.w*r,n.h*r),this.canvas.style.width=this._canvasContainer.clientWidth+"px",this.canvas.style.height=this._canvasContainer.clientHeight+"px",this.canvas.width=e,this.canvas.height=t,this._center={x:e/2+e*this.offset.w,y:t/2+t*this.offset.h},this._actualRadius=this._size/2*this.radius,this.itemLabelFontSize=this.itemLabelFontSizeMax*(this._size/500),this.labelMaxWidth=this._actualRadius*(this.itemLabelRadius-this.itemLabelRadiusMax);for(let o of this._items)this.itemLabelFontSize=Math.min(this.itemLabelFontSize,x(o.label,this.itemLabelFont,this.labelMaxWidth,this._context));this.refresh()}draw(e=0){this._frameRequestId=null;let t=this._context;t.clearRect(0,0,this.canvas.width,this.canvas.height),this.animateRotation(e);let s=this.getItemAngles(this.rotation),n=this.getActualBorderWidth();t.textBaseline="middle",t.textAlign=this.itemLabelAlign,t.font=this.itemLabelFontSize+"px "+this.itemLabelFont,t.save();for(let[r,o]of s.entries()){let h=new Path2D;h.moveTo(this._center.x,this._center.y),h.arc(this._center.x,this._center.y,this._actualRadius-n/2,l(o.start+-90),l(o.end+-90)),this._items[r].path=h}this.drawItemBackgrounds(t,s),this.drawItemImages(t,s),this.drawItemLines(t,s),this.drawItemLabels(t,s),this.drawBorder(t),this.drawImage(t,this._image,!1),this.drawImage(t,this._overlayImage,!0),this.drawPointerLine(t),this.drawDragEvents(t),this._isInitialising=!1}drawItemBackgrounds(e,t=[]){var s;for(let[n,r]of t.entries()){let o=this._items[n];e.fillStyle=(s=o.backgroundColor)!=null?s:this.itemBackgroundColors[n%this.itemBackgroundColors.length],e.fill(o.path)}}drawItemImages(e,t=[]){for(let[s,n]of t.entries()){let r=this._items[s];if(!R(r.image))return;e.save(),e.clip(r.path);let o=n.start+(n.end-n.start)/2;e.translate(this._center.x+Math.cos(l(o+-90))*(this._actualRadius*r.imageRadius),this._center.y+Math.sin(l(o+-90))*(this._actualRadius*r.imageRadius)),e.rotate(l(o+r.imageRotation));let h=this._size/500*r.image.width*r.imageScale,d=this._size/500*r.image.height*r.imageScale,F=-h/2,D=-d/2;e.drawImage(r.image,F,D,h,d),e.restore()}}drawImage(e,t,s=!1){if(!R(t))return;e.translate(this._center.x,this._center.y),s||e.rotate(l(this.rotation));let n=s?this._size:this._size*this.radius,r=-(n/2);e.drawImage(t,r,r,n,n),e.resetTransform()}drawPointerLine(e,t,s=!1){!this.debug||(e.translate(this._center.x,this._center.y),e.rotate(l(this.pointerAngle+-90)),e.beginPath(),e.moveTo(0,0),e.lineTo(this._actualRadius*2,0),e.strokeStyle=g.pointerLineColor,e.lineWidth=2,e.stroke(),e.resetTransform())}drawBorder(e){if(this.borderWidth<=0)return;let t=this.getActualBorderWidth(),s=this._borderColor||"transparent";e.beginPath(),e.strokeStyle=s,e.lineWidth=t,e.arc(this._center.x,this._center.y,this._actualRadius-t/2,0,2*Math.PI),e.stroke(),this.debug&&(e.beginPath(),e.strokeStyle=e.strokeStyle=g.labelRadiusColor,e.lineWidth=1,e.arc(this._center.x,this._center.y,this._actualRadius*this.itemLabelRadius,0,2*Math.PI),e.stroke(),e.beginPath(),e.strokeStyle=e.strokeStyle=g.labelRadiusColor,e.lineWidth=1,e.arc(this._center.x,this._center.y,this._actualRadius*this.itemLabelRadiusMax,0,2*Math.PI),e.stroke())}drawItemLines(e,t=[]){if(this.lineWidth<=0)return;let s=this.lineWidth/500*this._size,n=this.getActualBorderWidth();e.translate(this._center.x,this._center.y);for(let r of t)e.rotate(l(r.start+-90)),e.beginPath(),e.moveTo(0,0),e.lineTo(this._actualRadius-n,0),e.strokeStyle=this.lineColor,e.lineWidth=s,e.stroke(),e.rotate(-l(r.start+-90));e.resetTransform()}drawItemLabels(e,t=[]){var n;let s=this.itemLabelFontSize*-this.itemLabelBaselineOffset;for(let[r,o]of t.entries()){let h=this._items[r];if(!h.label)continue;e.save(),e.clip(h.path);let d=o.start+(o.end-o.start)/2;e.translate(this._center.x+Math.cos(l(d+-90))*(this._actualRadius*this.itemLabelRadius),this._center.y+Math.sin(l(d+-90))*(this._actualRadius*this.itemLabelRadius)),e.rotate(l(d+-90)),e.rotate(l(this.itemLabelRotation)),this.debug&&(e.beginPath(),e.moveTo(0,0),e.lineTo(-this.labelMaxWidth,0),e.strokeStyle=g.labelOutlineColor,e.lineWidth=1,e.stroke(),e.strokeRect(0,-this.itemLabelFontSize/2,-this.labelMaxWidth,this.itemLabelFontSize)),e.fillStyle=(n=h.labelColor)!=null?n:this.itemLabelColors[r%this.itemLabelColors.length],e.fillText(h.label,0,s),e.restore()}}drawDragEvents(e){var s;if(!this.debug||!((s=this.dragEvents)!=null&&s.length))return;let t=[...this.dragEvents].reverse();for(let[n,r]of t.entries()){let o=n/this.dragEvents.length*100;e.beginPath(),e.arc(r.x,r.y,5,0,2*Math.PI),e.fillStyle=`hsl(${g.dragEventHue},100%,${o}%)`,e.strokeStyle="#000",e.lineWidth=.5,e.fill(),e.stroke()}}animateRotation(e=0){if(this.rotationSpeed!==0){this.refresh(),this.lastRotationFrame===void 0&&(this.lastRotationFrame=e);let t=e-this.lastRotationFrame;t>0&&(this.rotation+=t/1e3*this.rotationSpeed%360,this.rotationSpeed=this.getRotationSpeedPlusDrag(t),this.rotationSpeed===0&&this.raiseEvent_onRest(),this.lastRotationFrame=e);return}this.lastRotationFrame=void 0}getRotationSpeedPlusDrag(e=0){let t=this.rotationSpeed+this.rotationResistance*(e/1e3)*this._rotationDirection;return this._rotationDirection===1&&t<0||this._rotationDirection===-1&&t>=0?0:t}spin(e=0,t=0){let s=t/2;this.rotationSpeed=w(e*(1-s),e*(1+s)),this.rotationSpeed!==0&&this.raiseEvent_onSpin()}getActualBorderWidth(){return this.borderWidth/500*this._size}getActualPixelRatio(){return this.pixelRatio!==0?this.pixelRatio:window.devicePixelRatio}wheelHitTest(e={x:0,y:0}){let t=b(e,this.canvas,this.getActualPixelRatio());return M(t,this._center.x,this._center.y,this._actualRadius)}refreshCursor(){if(this.isDragging){this.canvas.style.cursor="grabbing";return}if(this.isInteractive&&this.isCursorOverWheel){this.canvas.style.cursor="grab";return}this.canvas.style.cursor=null}getAngleFromCenter(e={x:0,y:0}){return(A(this._center.x,this._center.y,e.x,e.y)+90)%360}getCurrentIndex(){return this._currentIndex}refreshCurrentIndex(e=[]){this._items.length===0&&(this._currentIndex=-1);for(let[t,s]of e.entries())if(!!I(this.pointerAngle,s.start%360,s.end%360)){if(this._currentIndex===t)break;this._currentIndex=t,this._isInitialising||this.raiseEvent_onCurrentIndexChange();break}}getItemAngles(e=0){let t=[],s=360/this.items.reduce((o,h)=>o+h.weight,0),n,r=e;for(let o of this._items)n=o.weight*s,t.push({start:r,end:r+n}),r+=n;return this._items.length>1&&(t[t.length-1].end=t[0].start+360),t}refresh(){this._frameRequestId===null&&(this._frameRequestId=window.requestAnimationFrame(this.draw.bind(this)))}get borderColor(){return this._borderColor}set borderColor(e){typeof e=="string"?this._borderColor=e:this._borderColor=a.wheel.borderColor,this.refresh()}get borderWidth(){return this._borderWidth}set borderWidth(e){typeof e=="number"?this._borderWidth=e:this._borderWidth=a.wheel.borderWidth,this.refresh()}get debug(){return this._debug}set debug(e){typeof e=="boolean"?this._debug=e:this._debug=a.wheel.debug,this.refresh()}get image(){return this._image}set image(e){let t=new Image;typeof e=="string"?(t.src=e,t.onload=s=>this.refresh()):t=a.wheel.image,this._image=t,this.refresh()}get isInteractive(){return this._isInteractive}set isInteractive(e){typeof e=="boolean"?this._isInteractive=e:this._isInteractive=a.wheel.isInteractive,this.refresh()}get itemBackgroundColors(){return this._itemBackgroundColors}set itemBackgroundColors(e){Array.isArray(e)?this._itemBackgroundColors=e:this._itemBackgroundColors=a.wheel.itemBackgroundColors,this.refresh()}get itemLabelAlign(){return this._itemLabelAlign}set itemLabelAlign(e){typeof e=="string"?this._itemLabelAlign=e:this._itemLabelAlign=a.wheel.itemLabelAlign,this.refresh()}get itemLabelBaselineOffset(){return this._itemLabelBaselineOffset}set itemLabelBaselineOffset(e){typeof e=="number"?this._itemLabelBaselineOffset=e:this._itemLabelBaselineOffset=a.wheel.itemLabelBaselineOffset,this.resize()}get itemLabelColors(){return this._itemLabelColors}set itemLabelColors(e){Array.isArray(e)?this._itemLabelColors=e:this._itemLabelColors=a.wheel.itemLabelColors,this.refresh()}get itemLabelFont(){return this._itemLabelFont}set itemLabelFont(e){typeof e=="string"?this._itemLabelFont=e:this._itemLabelFont=a.wheel.itemLabelFont,this.resize()}get itemLabelFontSizeMax(){return this._itemLabelFontSizeMax}set itemLabelFontSizeMax(e){typeof e=="number"?this._itemLabelFontSizeMax=e:this._itemLabelFontSizeMax=a.wheel.itemLabelFontSizeMax,this.resize()}get itemLabelRadius(){return this._itemLabelRadius}set itemLabelRadius(e){typeof e=="number"?this._itemLabelRadius=e:this._itemLabelRadius=a.wheel.itemLabelRadius,this.resize()}get itemLabelRadiusMax(){return this._itemLabelRadiusMax}set itemLabelRadiusMax(e){typeof e=="number"?this._itemLabelRadiusMax=e:this._itemLabelRadiusMax=a.wheel.itemLabelRadiusMax,this.resize()}get itemLabelRotation(){return this._itemLabelRotation}set itemLabelRotation(e){typeof e=="number"?this._itemLabelRotation=e:this._itemLabelRotation=a.wheel.itemLabelRotation,this.refresh()}get items(){return this._items}set items(e){if(Array.isArray(e)){this._items=[];for(let t of e)this._items.push(new C(this,{backgroundColor:t.backgroundColor,image:t.image,imageRadius:t.imageRadius,imageRotation:t.imageRotation,imageScale:t.imageScale,label:t.label,labelColor:t.labelColor,value:t.value,weight:t.weight}))}else this._items=a.wheel.items;this.refreshCurrentIndex(this.getItemAngles(this.rotation))}get lineColor(){return this._lineColor}set lineColor(e){typeof e=="string"?this._lineColor=e:this._lineColor=a.wheel.lineColor,this.refresh()}get lineWidth(){return this._lineWidth}set lineWidth(e){typeof e=="number"?this._lineWidth=e:this._lineWidth=a.wheel.lineWidth,this.refresh()}get radius(){return this._radius}set radius(e){typeof e=="number"?this._radius=e:this._radius=a.wheel.radius,this.resize()}get rotation(){return this._rotation}set rotation(e){typeof e=="number"?this._rotation=e:this._rotation=a.wheel.rotation,this.refreshCurrentIndex(this.getItemAngles(this.rotation)),this.refresh()}get rotationResistance(){return this._rotationResistance}set rotationResistance(e){typeof e=="number"?this._rotationResistance=e:this._rotationResistance=a.wheel.rotationResistance}get pixelRatio(){return this._pixelRatio}set pixelRatio(e){typeof e=="number"?this._pixelRatio=e:this._pixelRatio=a.wheel.pixelRatio,this.resize()}get rotationSpeed(){return this._rotationSpeed}set rotationSpeed(e){if(typeof e=="number"){let t=Math.min(e,this.rotationSpeedMax);t=Math.max(t,-this.rotationSpeedMax),this._rotationDirection=t>0?1:-1,this._rotationSpeed=t}else this._rotationDirection=0,this._rotationSpeed=a.wheel.rotationSpeed;this.refresh()}get rotationSpeedMax(){return this._rotationSpeedMax}set rotationSpeedMax(e){typeof e=="number"?this._rotationSpeedMax=e:this._rotationSpeedMax=a.wheel.rotationSpeedMax}get offset(){return this._offset}set offset(e){e?this._offset=e:this._offset=a.wheel.offset,this.resize()}get onCurrentIndexChange(){return this._onCurrentIndexChange}set onCurrentIndexChange(e){typeof e=="function"?this._onCurrentIndexChange=e:this._onCurrentIndexChange=a.wheel.onCurrentIndexChange}get onRest(){return this._onRest}set onRest(e){typeof e=="function"?this._onRest=e:this._onRest=a.wheel.onRest}get onSpin(){return this._onSpin}set onSpin(e){typeof e=="function"?this._onSpin=e:this._onSpin=a.wheel.onSpin}get overlayImage(){return this._overlayImage}set overlayImage(e){let t;typeof e=="string"?(t=new Image,t.src=e,t.onload=s=>this.refresh()):t=a.wheel.overlayImage,this._overlayImage=t,this.refresh()}get pointerAngle(){return this._pointerAngle}set pointerAngle(e){typeof e=="number"?this._pointerAngle=e:this._pointerAngle=a.wheel.pointerAngle,this.debug&&this.refresh()}dragStart(e={x:0,y:0}){let t=b(e,this.canvas,this.getActualPixelRatio());this.isDragging=!0,this.rotationSpeed=0,this.dragEvents=[{distance:0,x:t.x,y:t.y,now:performance.now()}],this.refreshCursor()}dragMove(e={x:0,y:0}){let t=b(e,this.canvas,this.getActualPixelRatio()),s=this.getAngleFromCenter(t),n=this.dragEvents[0],r=this.getAngleFromCenter(n),o=E(r,s);this.dragEvents.unshift({distance:o,x:t.x,y:t.y,now:performance.now()}),this.debug&&this.dragEvents.length>=40&&this.dragEvents.pop(),this.rotation+=o}dragEnd(){this.isDragging=!1;let e=0,t=performance.now();for(let[s,n]of this.dragEvents.entries()){if(!this.isDragEventTooOld(t,n)){e+=n.distance;continue}this.dragEvents.length=s;break}this.refreshCursor(),e!==0&&(this.rotationSpeed=e*(1e3/250),this.raiseEvent_onSpin({dragEvents:this.dragEvents}))}isDragEventTooOld(e=0,t={}){return e-t.now>250}raiseEvent_onCurrentIndexChange(e={}){var t;(t=this.onCurrentIndexChange)==null||t.call(this,_({event:"currentIndexChange",currentIndex:this._currentIndex},e))}raiseEvent_onRest(e={}){var t;(t=this.onRest)==null||t.call(this,_({event:"rest",currentIndex:this._currentIndex,rotation:this._rotation},e))}raiseEvent_onSpin(e={}){var t;(t=this.onSpin)==null||t.call(this,_({event:"spin",rotationSpeed:this.rotationSpeed},e))}};return X(G);})();
